<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>TutiAutosYa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand fw-bold" href="#">TutiAutosYa</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContenido">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarContenido">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Inicio</a>
                </li>
                <li class="nav-item">
                    <!-- Reemplazado para evitar error -->
                    <a class="nav-link" href="#formulario-contacto" onclick="interestVenderRadio.checked = true; showFormSection('vender')">Vende tu carro</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#formulario-contacto">Contáctenos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#sobre-nosotros">Sobre nosotros</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container my-4">
    <div class="row g-3 align-items-end">
        <div class="col-md-6">
            <label for="marcaSelect" class="form-label fw-bold">Filtrar por marca:</label>
            <select id="marcaSelect" class="form-select">
                <option value="todos">Todos</option>
                <option value="chevrolet">Chevrolet</option>
                <option value="ford">Ford</option>
                <option value="toyota">Toyota</option>
                <option value="hyundai">Hyundai</option>
                <option value="kia">Kia</option>
                <option value="nissan">Nissan</option>
                <option value="honda">Honda</option>
                <option value="mitsubishi">Mitsubishi</option>
                <option value="suzuki">Suzuki</option>
            </select>
        </div>
        <div class="col-md-6">
            <label for="ordenSelect" class="form-label fw-bold">Ordenar por:</label>
            <select id="ordenSelect" class="form-select">
                <option value="none">Sin ordenar</option>
                <option value="precio-asc">Precio (menor a mayor)</option>
                <option value="precio-desc">Precio (mayor a menor)</option>
                <option value="anio-desc">Año (más nuevo primero)</option>
                <option value="anio-asc">Año (más viejo primero)</option>
            </select>
        </div>
    </div>
</div>

<div class="container">
    <div id="car-container" class="row row-cols-1 row-cols-md-3 g-4">
        </div>
</div>

<section id="formulario-contacto" class="py-5 bg-dark text-white">
    <div class="container">
        <h2 class="mb-4">¿Deseas más información?</h2>
        <p>Déjanos tus datos y nos pondremos en contacto contigo lo antes posible.</p>

        <form>
            <div class="mb-4">
                <label class="form-label fs-5">Estoy interesado en:</label>
                <div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="mainInterest" id="interestComprar" value="comprar" checked>
                        <label class="form-check-label" for="interestComprar">Comprar un Carro</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="mainInterest" id="interestVender" value="vender">
                        <label class="form-check-label" for="interestVender">Vender mi Carro</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="mainInterest" id="interestConsulta" value="consulta">
                        <label class="form-check-label" for="interestConsulta">Hacer una Consulta General</label>
                    </div>
                </div>
            </div>

            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre completo</label>
                <input type="text" class="form-control" id="nombre" placeholder="Tu nombre" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Correo electrónico</label>
                <input type="email" class="form-control" id="email" placeholder="tunombre@email.com" required>
            </div>
            <div class="mb-3">
                <label for="telefono" class="form-label">Teléfono</label>
                <input type="tel" class="form-control" id="telefono" placeholder="Ej: +507 6000-0000">
            </div>

            <div id="sectionComprar" class="form-section">
                <h4 class="mb-3 mt-4">Detalles de Compra</h4>
                <div class="mb-3">
                    <label class="form-label">Tipo de Compra</label>
                    <div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="tipoCompra" id="compraContado" value="contado" checked>
                            <label class="form-check-label" for="compraContado">Al Contado</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="tipoCompra" id="compraFinanciar" value="financiar">
                            <label class="form-check-label" for="compraFinanciar">Financiar</label>
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <label for="tipoCarro" class="form-label">Tipo de Carro Interesado</label>
                    <select class="form-select" id="tipoCarro">
                        <option value="">Selecciona un tipo</option>
                        <option value="suv">SUV</option>
                        <option value="sedan">Sedán</option>
                        <option value="compacto">Compacto</option>
                        <option value="pickup">Pick-up</option>
                        <option value="hatchback">Hatchback</option>
                        <option value="deportivo">Deportivo</option>
                        <option value="lujo">Lujo</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="autoInteresado" class="form-label">Auto Específico (Opcional)</label>
                    <select class="form-select" id="autoInteresado">
                        <option value="">Selecciona un auto o déjalo en blanco</option>
                    </select>
                </div>
            </div>

<div id="sectionVender" class="form-section" style="display: none;">
                <h4 class="mb-3 mt-4">Detalles para Vender tu Carro</h4>
                <div class="mb-3"> <label for="venderTipoVehiculo" class="form-label">Tipo de Vehículo</label>
                    <select class="form-select" id="venderTipoVehiculo">
                        <option value="">Selecciona un tipo</option>
                        <option value="suv">SUV</option>
                        <option value="sedan">Sedán</option>
                        <option value="compacto">Compacto</option>
                        <option value="pickup">Pick-up</option>
                        <option value="hatchback">Hatchback</option>
                        <option value="deportivo">Deportivo</option>
                        <option value="lujo">Lujo</option>
                        </select>
                </div>
                <div class="mb-3"> <label for="venderAnio" class="form-label">Año</label>
                    <input type="number" class="form-control" id="venderAnio" placeholder="Ej: 2018" min="1900" max="2100">
                </div>
                <div class="mb-3">
                    <label for="venderMarca" class="form-label">Marca</label>
                    <input type="text" class="form-control" id="venderMarca" placeholder="Ej: Toyota">
                </div>
                <div class="mb-3">
                    <label for="venderModelo" class="form-label">Modelo</label>
                    <input type="text" class="form-control" id="venderModelo" placeholder="Ej: Corolla">
                </div>
                <div class="mb-3">
                    <label for="venderKilometraje" class="form-label">Kilometraje (km)</label>
                    <input type="number" class="form-control" id="venderKilometraje" placeholder="Ej: 75000" min="0">
                </div>
            </div>

            <div id="sectionConsulta" class="form-section" style="display: none;">
                <h4 class="mb-3 mt-4">Detalles de tu Consulta</h4>
                </div>

            <div class="mb-3">
                <label for="mensaje" class="form-label">Mensaje</label>
                <textarea class="form-control" id="mensaje" rows="4" placeholder="Escribe tu mensaje aquí..." required></textarea>
            </div>

            <button type="submit" class="btn btn-primary">Enviar mensaje</button>
        </form>
    </div>
</section>
<section id="sobre-nosotros" class="py-5 bg-light">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h2 class="mb-4 text-dark">Sobre TutiAutosYa</h2>
                <p class="text-secondary">En TutiAutosYa, nos apasiona conectar a las personas con el vehículo perfecto. Con años de experiencia en el mercado automotriz, nos hemos consolidado como un referente de confianza y calidad en la compra y venta de autos usados en Panamá.</p>
                <p class="text-secondary">Nuestra misión es ofrecer una experiencia transparente y sin complicaciones, garantizando la satisfacción de nuestros clientes en cada transacción. Creemos en la honestidad, la integridad y el servicio excepcional.</p>
                <p class="text-secondary">¡Tu próximo auto te espera en TutiAutosYa!</p>
            </div>
            <div class="col-md-6 text-center mt-4 mt-md-0">
                <img src="fotoricardo.png" class="img-fluid rounded shadow" alt="Imagen de la empresa TutiAutosYa">
            </div>
        </div>
    </div>
</section>
<footer class="bg-dark text-white text-center p-3 mt-5">
    © 2025 TutiAutosYa. Todos los derechos reservados.
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // Referencias a los elementos de filtrado y contenedor de autos
    const marcaSelect = document.getElementById("marcaSelect");
    const ordenSelect = document.getElementById("ordenSelect");
    const carContainer = document.getElementById("car-container");

    // Datos de los autos (¡Asegúrate de que cada auto tenga la propiedad 'tipo' y 'kilometraje'!)
    const autos = [
        {
            id: 1,
            marca: "hyundai",
            titulo: "Hyundai Elantra 2018",
            precio: 10500,
            anio: 2018,
            imagen: "hyundaielantra2018.png",
            descripcion: "Un sedán confiable y eficiente, ideal para la ciudad y viajes largos. Cómodo y muy económico.",
            tipo: "sedan",
            kilometraje: 75000
        },
        {
            id: 2,
            marca: "toyota",
            titulo: "Toyota Hilux 2017 (Doble Cabina)",
            precio: 23000,
            anio: 2017,
            imagen: "toyotahilux2017.png",
            descripcion: "La pick-up más robusta y versátil del mercado, ideal para el trabajo o la aventura.",
            tipo: "pickup",
            kilometraje: 90000
        },
        {
            id: 3,
            marca: "kia",
            titulo: "Kia Picanto 2020",
            precio: 9800,
            anio: 2020,
            imagen: "kiapicanto2020.png",
            descripcion: "Compacto y ágil, perfecto para la ciudad. Bajo consumo de combustible y fácil de estacionar.",
            tipo: "compacto",
            kilometraje: 45000
        },
        {
            id: 4,
            marca: "nissan",
            titulo: "Nissan Kicks 2019",
            precio: 14000,
            anio: 2019,
            imagen: "nissankicks2019.png",
            descripcion: "Un SUV compacto con estilo, tecnología y eficiencia. Amplio espacio interior.",
            tipo: "suv",
            kilometraje: 60000
        },
        {
            id: 5,
            marca: "toyota",
            titulo: "Toyota Corolla 2016",
            precio: 12000,
            anio: 2016,
            imagen: "toyotacorolla2016.png",
            descripcion: "El clásico sedán confiable. Duradero, eficiente y de bajo mantenimiento.",
            tipo: "sedan",
            kilometraje: 110000
        },
        {
            id: 6,
            marca: "honda",
            titulo: "Honda CR-V 2015",
            precio: 13500,
            anio: 2015,
            imagen: "hondacrv2015.png",
            descripcion: "Un SUV espacioso y versátil, con un interior cómodo y una conducción suave.",
            tipo: "suv",
            kilometraje: 125000
        },
        {
            id: 7,
            marca: "chevrolet",
            titulo: "Chevrolet Spark 2019",
            precio: 7500,
            anio: 2019,
            imagen: "chevroletspark2019.png",
            descripcion: "Compacto y económico, ideal para moverse por la ciudad con facilidad. Diseño moderno.",
            tipo: "hatchback",
            kilometraje: 55000
        },
        {
            id: 8,
            marca: "mitsubishi",
            titulo: "Mitsubishi L200 2018 (Doble Cabina)",
            precio: 20500,
            anio: 2018,
            imagen: "mitsubishil2002018.png",
            descripcion: "Una pick-up robusta y potente, ideal para el trabajo pesado o aventuras fuera de carretera.",
            tipo: "pickup",
            kilometraje: 80000
        },
        {
            id: 9,
            marca: "suzuki",
            titulo: "Suzuki Swift 2021",
            precio: 11000,
            anio: 2021,
            imagen: "suzukiswift2021.png",
            descripcion: "Un hatchback ágil y divertido de conducir. Eficiente en consumo de combustible.",
            tipo: "hatchback",
            kilometraje: 30000
        },
        {
            id: 10,
            marca: "hyundai",
            titulo: "Hyundai Tucson 2017",
            precio: 15500,
            anio: 2017,
            imagen: "hyundaitucson2017.png",
            descripcion: "Un SUV versátil y cómodo, ideal para la familia. Amplio espacio interior.",
            tipo: "suv",
            kilometraje: 95000
        }
    ];

    // REFERENCIAS A LOS ELEMENTOS DEL FORMULARIO DE CONTACTO PARA EL CONTROL DE VISIBILIDAD
    const interestComprarRadio = document.getElementById('interestComprar');
    const interestVenderRadio = document.getElementById('interestVender');
    const interestConsultaRadio = document.getElementById('interestConsulta');

    const sectionComprar = document.getElementById('sectionComprar');
    const sectionVender = document.getElementById('sectionVender');
    const sectionConsulta = document.getElementById('sectionConsulta');

    // Referencias a los selects de la sección de compra (ya existían)
    const tipoCarroSelect = document.getElementById('tipoCarro');
    const autoInteresadoSelect = document.getElementById('autoInteresado');


    // FUNCIÓN CLAVE: Muestra/oculta las secciones del formulario de contacto
    function showFormSection(sectionId) {
        // Primero, oculta todas las secciones
        sectionComprar.style.display = 'none';
        sectionVender.style.display = 'none';
        sectionConsulta.style.display = 'none';

        // Luego, muestra solo la sección seleccionada
        if (sectionId === 'comprar') {
            sectionComprar.style.display = 'block';
            // Al mostrar la sección de compra, repopula el select de autos por si ha cambiado el tipo
            populateAutoInterestedSelect(tipoCarroSelect.value || "");
        } else if (sectionId === 'vender') {
            sectionVender.style.display = 'block';
        } else if (sectionId === 'consulta') {
            sectionConsulta.style.display = 'block';
        }
    }


    // Función para renderizar las tarjetas de autos en la galería principal
function renderAutos() {
    const marca = marcaSelect.value;
    const orden = ordenSelect.value;

    let filtrados = autos.filter(auto => marca === "todos" || auto.marca === marca);

    if (orden === "precio-asc") filtrados.sort((a, b) => a.precio - b.precio);
    if (orden === "precio-desc") filtrados.sort((a, b) => b.precio - a.precio);
    if (orden === "anio-asc") filtrados.sort((a, b) => a.anio - b.anio);
    if (orden === "anio-desc") filtrados.sort((a, b) => b.anio - a.anio);

    carContainer.innerHTML = "";
    filtrados.forEach(auto => {
        const cardHTML = `
            <div class="col">
                <div class="card car-card">
                    <img src="${auto.imagen}" class="card-img-top" alt="${auto.titulo}">
                    <div class="card-body">
                        <h5 class="card-title">${auto.titulo}</h5>
                        <p class="card-text">Precio: $${auto.precio} | Año: ${auto.anio}</p>
                        <p class="card-text">Kilometraje: ${auto.kilometraje.toLocaleString()} km</p>
                        <p class="card-text small text-muted">${auto.descripcion}</p>
                        <button class="btn btn-primary btn-sm" onclick="abrirModalAuto(${auto.id})">Comprar</button>
                    </div>
                </div>
            </div>`;
        carContainer.innerHTML += cardHTML;
    });
}


    // Función que desplaza al formulario de contacto y preselecciona un auto (llamada desde los botones "Comprar" de las tarjetas)
    function scrollToContactFormAndSelectAuto(autoTitulo) {
        const contactSection = document.getElementById('formulario-contacto');
        if (contactSection) {
            contactSection.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // **IMPORTANTE:** Esto asegura que la opción "Comprar un Carro" esté activa y su sección visible
            interestComprarRadio.checked = true;
            showFormSection('comprar');

            const autoInteresadoSelect = document.getElementById('autoInteresado');
            if (autoInteresadoSelect) {
                const selectedAuto = autos.find(auto => auto.titulo === autoTitulo);
                if (selectedAuto) {
                    const tipoCarroSelect = document.getElementById('tipoCarro');
                    if (tipoCarroSelect) {
                        tipoCarroSelect.value = selectedAuto.tipo;
                        populateAutoInterestedSelect(selectedAuto.tipo); // Forzamos la actualización del select dependiente
                    }
                    autoInteresadoSelect.value = autoTitulo; // Seleccionamos el auto específico en el dropdown
                }
            }
        }
    }


    // Función para rellenar el selector de "Auto Específico" en la sección de compra
    function populateAutoInterestedSelect(tipoDeCarro = "") { // Valor por defecto es cadena vacía para "Selecciona un tipo"
        autoInteresadoSelect.innerHTML = '<option value="">Selecciona un auto o déjalo en blanco</option>'; // Limpiar opciones anteriores

        const autosFiltradosPorTipo = autos.filter(auto => {
            return tipoDeCarro === "" || auto.tipo === tipoDeCarro; // Filtra por tipo o muestra todos si el tipo es vacío
        });

        // Ordena los autos filtrados alfabéticamente por título para una mejor experiencia de usuario
        autosFiltradosPorTipo.sort((a, b) => a.titulo.localeCompare(b.titulo));

        autosFiltradosPorTipo.forEach(auto => {
            const option = document.createElement('option');
            option.value = auto.titulo;
            option.textContent = `${auto.titulo} ($${auto.precio}) - ${auto.kilometraje.toLocaleString()} km`;
            autoInteresadoSelect.appendChild(option);
        });
    }


    // EVENT LISTENERS: Esto es lo que activa el cambio de secciones del formulario
    interestComprarRadio.addEventListener('change', () => showFormSection('comprar'));
    interestVenderRadio.addEventListener('change', () => showFormSection('vender'));
    interestConsultaRadio.addEventListener('change', () => showFormSection('consulta'));

    // Event listener para el filtro en cascada de "Tipo de Carro Interesado"
    tipoCarroSelect.addEventListener('change', () => {
        const selectedTipo = tipoCarroSelect.value;
        populateAutoInterestedSelect(selectedTipo); // Llama a la función con el tipo seleccionado
    });


    // INICIALIZACIÓN: Lo que sucede cuando la página carga
    marcaSelect.addEventListener("change", renderAutos);
    ordenSelect.addEventListener("change", renderAutos);
    renderAutos(); // Muestra los autos en la galería principal al cargar

    // **IMPORTANTE:** Esta línea asegura que la sección "Comprar" esté visible por defecto al cargar el formulario
    showFormSection('comprar');
</script>
<!-- Modal de información de auto -->
<div class="modal fade" id="autoModal" tabindex="-1" aria-labelledby="autoModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="autoModalLabel">Información del Auto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <img id="modalAutoImagen" src="" class="img-fluid rounded mb-3" alt="Auto">
        <p id="modalAutoDescripcion"></p>
        <ul class="list-group">
          <li class="list-group-item"><strong>Precio:</strong> <span id="modalAutoPrecio"></span></li>
          <li class="list-group-item"><strong>Año:</strong> <span id="modalAutoAnio"></span></li>
          <li class="list-group-item"><strong>Kilometraje:</strong> <span id="modalAutoKilometraje"></span> km</li>
          <li class="list-group-item"><strong>Tipo:</strong> <span id="modalAutoTipo"></span></li>
        </ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary" id="modalComprarBtn">Comprar</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
function abrirModalAuto(autoId) {
    const auto = autos.find(a => a.id === autoId);
    if (!auto) return;


    document.getElementById("modalAutoImagen").src = auto.imagen;
    document.getElementById("modalAutoImagen").alt = auto.titulo;
    document.getElementById("modalAutoDescripcion").textContent = auto.descripcion;
    document.getElementById("modalAutoPrecio").textContent = `$${auto.precio}`;
    document.getElementById("modalAutoAnio").textContent = auto.anio;
    document.getElementById("modalAutoKilometraje").textContent = auto.kilometraje.toLocaleString();
    document.getElementById("modalAutoTipo").textContent = auto.tipo;


    document.getElementById("modalComprarBtn").onclick = function() {
        scrollToContactFormAndSelectAuto(auto.titulo);
        const modalInstance = bootstrap.Modal.getInstance(document.getElementById('autoModal'));
        modalInstance.hide();
    };
    <button class="btn btn-primary btn-sm" onclick="abrirModalAuto(${auto.id})">Comprar</button>


    const modal = new bootstrap.Modal(document.getElementById('autoModal'));
    modal.show();
}
</script>

</body>
</html>





